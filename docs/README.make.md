# Makeコマンド一覧

## 概要

基本的なMakeコマンドを記載しています。

## 目次

- [Makeコマンド一覧](#makeコマンド一覧)
  - [概要](#概要)
  - [目次](#目次)
  - [Make基本コマンド一覧](#make基本コマンド一覧)
    - [コンテナ起動・作成系](#コンテナ起動作成系)
    - [コンテナ停止・削除系](#コンテナ停止削除系)
    - [コンテナ操作系](#コンテナ操作系)
    - [コンテナ情報系](#コンテナ情報系)
    - [Docker補助/etc系](#docker補助etc系)

## Make基本コマンド一覧

### コンテナ起動・作成系

~~~sh
# git clone後に初期起動するときのコマンド
make first-up-build

# サービスのビルドを実行します。
make build

# サービスのビルドからコンテナ作成、起動までをバックグランドで行います。
make build-up

# コンテナを作成して、起動します。オプションで-dをつけることでバックグラウンドで実行することができます。
make up

# 構築されたサービスを参考にそのコンテナを作ります。
make create

# コンテナのリスタート
make restart
~~~

### コンテナ停止・削除系

~~~sh
# compose.ymlに書かれているサービスを参考にコンテナを停止し、そのコンテナとネットワークを削除します。
make down

# compose.ymlに書かれているサービスを参考に停止中のコンテナを削除します。
make rm

# compose.ymlに書かれているサービスを参考にコンテナ、イメージ、ボリューム、ネットワークそして未定義コンテナ、全てを一括消去するコマンド
make down-rmi

# 全ての未使用なコンテナ, イメージ, ボリューム、ネットワークを一括削除
make down-all
~~~

### コンテナ操作系

~~~sh
# コンテナを強制停止します。
make kill

# サービスを開始します。これは既にコンテナがある状態でなければなりません。
make start

# サービスを停止します。
make stop

# サービスを一旦停止します。
## (一時停止したサービスは強制削除、強制開始ができずunpauseをしてからでないと作業ができなくなるので注意してください。)
make pause

# サービスの再開をします。pauseしている状態から復帰するのですが、pauseしている状態から復帰するにはこのコマンドが必要です。
make unpause
~~~

### コンテナ情報系

~~~sh
# サービスのログを出力します。
make logs

# サービスのログをリアルタイムに出力します。
make logs-f

# コンテナの一覧を表示します。
make ps

# 各コンテナのプロセス情報を表示します。
make top

# docker compose.ymlで書かれてる内容が表示されます。
make config

# コンテナからのイベントを受信します。
make events
~~~

### Docker補助/etc系

~~~sh
# コマンドの一覧を表示します。
make help

# docker composeのバージョンを表示します。
make version

# DAB(Distributed Application Bundles)を作成します。
## これは事前に作成したイメージをdockerのregistryにpushしておく必要があります(ローカルにpushでも可)
make bundle

# 対象のイメージの情報を表示します。
make images

# サービスのイメージをプルしてきます。
make pull
~~~
